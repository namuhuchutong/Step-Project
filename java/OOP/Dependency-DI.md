# 의존

- 기능 구현을 위해 다른 구성 요소를 사용하는 것
    - ex) 객체 생성, 메서드 호출, 데이터 사용

- 의존은 변경이 전파될 가능성을 의미
    - 의존하는 대상이 바뀌면 바뀔 가능성이 높아짐
        - 호출하는 메서드의 파라미터가 변경
        - 호출하는 메서드가 발생할 수 있는 익셉션 타입이 추가

## 순환 의존

- A가 B에 의존 -> B가 C에 의존 -> C가 A에 의존

- 변경 연새 전파 가능성이 있음
    - 클래스, 패키지, 모듈 등 모든 수준에서 순환 의존이 없도록해야 함.

## 의존하는 대상이 많을 경우

- 의존하는 대상이 적을 수록 좋다

- 묶어보기
    - 몇 가지 의존 대상을 단일 기능으로 묶어서 생각해보면 의존 대상을 줄일 수 있음

## 기능이 많은 경우

- 한 클래스에서 많은 기능을 제공하는 경우
    - 기능별로 클래스로 분리할 것

- 각 기능마다 의존하는 대상이 다를 수 있음

- 한 기능 변경이 다른 기능에 영향을 줄 수 있음

## 의존 대상 객체를 직접 생성하면?

- 생성 클래스가 바뀌면 의존하는 코드도 바뀜
    - 추상화 참고

- 의존 대상 객체를 직접 생성하지 않는 방법
    - 팩토리, 빌더
    - DI
    - Service Locator

## DI

- 외부에서 의존 객체를 주입
    - 생성자나 메서드를 이용해서 주입

### Assembler

- 조립기가 객체 생성, 의존 주입을 처리
    - ex) 스프링 프레임워크

### DI의 장점

- 상위 타입을 사용할 경우, 의존 대상이 바뀌면 어셈블러만 바뀌면 됨(설정만 바꾸면 됨)

- 의존하는 객체 없이 대역 객체를 사용해서 테스트 가능(DB없이 DB 테스트)

